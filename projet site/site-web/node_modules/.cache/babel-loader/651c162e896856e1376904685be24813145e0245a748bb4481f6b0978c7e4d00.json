{"ast":null,"code":"\"use strict\";\n\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __name = (target, value) => __defProp(target, \"name\", {\n  value,\n  configurable: true\n});\nvar __export = (target, all) => {\n  for (var name in all) __defProp(target, name, {\n    get: all[name],\n    enumerable: true\n  });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from)) if (!__hasOwnProp.call(to, key) && key !== except) __defProp(to, key, {\n      get: () => from[key],\n      enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable\n    });\n  }\n  return to;\n};\nvar __toCommonJS = mod => __copyProps(__defProp({}, \"__esModule\", {\n  value: true\n}), mod);\n\n// src/index.ts\nvar src_exports = {};\n__export(src_exports, {\n  Collection: () => Collection,\n  version: () => version\n});\nmodule.exports = __toCommonJS(src_exports);\n\n// src/collection.ts\nvar Collection = class _Collection extends Map {\n  static {\n    __name(this, \"Collection\");\n  }\n  /**\n   * Obtains the value of the given key if it exists, otherwise sets and returns the value provided by the default value generator.\n   *\n   * @param key - The key to get if it exists, or set otherwise\n   * @param defaultValueGenerator - A function that generates the default value\n   * @example\n   * ```ts\n   * collection.ensure(guildId, () => defaultGuildConfig);\n   * ```\n   */\n  ensure(key, defaultValueGenerator) {\n    if (this.has(key)) return this.get(key);\n    if (typeof defaultValueGenerator !== \"function\") throw new TypeError(`${defaultValueGenerator} is not a function`);\n    const defaultValue = defaultValueGenerator(key, this);\n    this.set(key, defaultValue);\n    return defaultValue;\n  }\n  /**\n   * Checks if all of the elements exist in the collection.\n   *\n   * @param keys - The keys of the elements to check for\n   * @returns `true` if all of the elements exist, `false` if at least one does not exist.\n   */\n  hasAll(...keys) {\n    return keys.every(key => super.has(key));\n  }\n  /**\n   * Checks if any of the elements exist in the collection.\n   *\n   * @param keys - The keys of the elements to check for\n   * @returns `true` if any of the elements exist, `false` if none exist.\n   */\n  hasAny(...keys) {\n    return keys.some(key => super.has(key));\n  }\n  first(amount) {\n    if (amount === void 0) return this.values().next().value;\n    if (amount < 0) return this.last(amount * -1);\n    amount = Math.min(this.size, amount);\n    const iter = this.values();\n    return Array.from({\n      length: amount\n    }, () => iter.next().value);\n  }\n  firstKey(amount) {\n    if (amount === void 0) return this.keys().next().value;\n    if (amount < 0) return this.lastKey(amount * -1);\n    amount = Math.min(this.size, amount);\n    const iter = this.keys();\n    return Array.from({\n      length: amount\n    }, () => iter.next().value);\n  }\n  last(amount) {\n    const arr = [...this.values()];\n    if (amount === void 0) return arr[arr.length - 1];\n    if (amount < 0) return this.first(amount * -1);\n    if (!amount) return [];\n    return arr.slice(-amount);\n  }\n  lastKey(amount) {\n    const arr = [...this.keys()];\n    if (amount === void 0) return arr[arr.length - 1];\n    if (amount < 0) return this.firstKey(amount * -1);\n    if (!amount) return [];\n    return arr.slice(-amount);\n  }\n  /**\n   * Identical to {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/at | Array.at()}.\n   * Returns the item at a given index, allowing for positive and negative integers.\n   * Negative integers count back from the last item in the collection.\n   *\n   * @param index - The index of the element to obtain\n   */\n  at(index) {\n    index = Math.floor(index);\n    const arr = [...this.values()];\n    return arr.at(index);\n  }\n  /**\n   * Identical to {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/at | Array.at()}.\n   * Returns the key at a given index, allowing for positive and negative integers.\n   * Negative integers count back from the last item in the collection.\n   *\n   * @param index - The index of the key to obtain\n   */\n  keyAt(index) {\n    index = Math.floor(index);\n    const arr = [...this.keys()];\n    return arr.at(index);\n  }\n  random(amount) {\n    const arr = [...this.values()];\n    if (amount === void 0) return arr[Math.floor(Math.random() * arr.length)];\n    if (!arr.length || !amount) return [];\n    return Array.from({\n      length: Math.min(amount, arr.length)\n    }, () => arr.splice(Math.floor(Math.random() * arr.length), 1)[0]);\n  }\n  randomKey(amount) {\n    const arr = [...this.keys()];\n    if (amount === void 0) return arr[Math.floor(Math.random() * arr.length)];\n    if (!arr.length || !amount) return [];\n    return Array.from({\n      length: Math.min(amount, arr.length)\n    }, () => arr.splice(Math.floor(Math.random() * arr.length), 1)[0]);\n  }\n  /**\n   * Identical to {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reverse | Array.reverse()}\n   * but returns a Collection instead of an Array.\n   */\n  reverse() {\n    const entries = [...this.entries()].reverse();\n    this.clear();\n    for (const [key, value] of entries) this.set(key, value);\n    return this;\n  }\n  find(fn, thisArg) {\n    if (typeof fn !== \"function\") throw new TypeError(`${fn} is not a function`);\n    if (thisArg !== void 0) fn = fn.bind(thisArg);\n    for (const [key, val] of this) {\n      if (fn(val, key, this)) return val;\n    }\n    return void 0;\n  }\n  findKey(fn, thisArg) {\n    if (typeof fn !== \"function\") throw new TypeError(`${fn} is not a function`);\n    if (thisArg !== void 0) fn = fn.bind(thisArg);\n    for (const [key, val] of this) {\n      if (fn(val, key, this)) return key;\n    }\n    return void 0;\n  }\n  sweep(fn, thisArg) {\n    if (typeof fn !== \"function\") throw new TypeError(`${fn} is not a function`);\n    if (thisArg !== void 0) fn = fn.bind(thisArg);\n    const previousSize = this.size;\n    for (const [key, val] of this) {\n      if (fn(val, key, this)) this.delete(key);\n    }\n    return previousSize - this.size;\n  }\n  filter(fn, thisArg) {\n    if (typeof fn !== \"function\") throw new TypeError(`${fn} is not a function`);\n    if (thisArg !== void 0) fn = fn.bind(thisArg);\n    const results = new this.constructor[Symbol.species]();\n    for (const [key, val] of this) {\n      if (fn(val, key, this)) results.set(key, val);\n    }\n    return results;\n  }\n  partition(fn, thisArg) {\n    if (typeof fn !== \"function\") throw new TypeError(`${fn} is not a function`);\n    if (thisArg !== void 0) fn = fn.bind(thisArg);\n    const results = [new this.constructor[Symbol.species](), new this.constructor[Symbol.species]()];\n    for (const [key, val] of this) {\n      if (fn(val, key, this)) {\n        results[0].set(key, val);\n      } else {\n        results[1].set(key, val);\n      }\n    }\n    return results;\n  }\n  flatMap(fn, thisArg) {\n    const collections = this.map(fn, thisArg);\n    return new this.constructor[Symbol.species]().concat(...collections);\n  }\n  map(fn, thisArg) {\n    if (typeof fn !== \"function\") throw new TypeError(`${fn} is not a function`);\n    if (thisArg !== void 0) fn = fn.bind(thisArg);\n    const iter = this.entries();\n    return Array.from({\n      length: this.size\n    }, () => {\n      const [key, value] = iter.next().value;\n      return fn(value, key, this);\n    });\n  }\n  mapValues(fn, thisArg) {\n    if (typeof fn !== \"function\") throw new TypeError(`${fn} is not a function`);\n    if (thisArg !== void 0) fn = fn.bind(thisArg);\n    const coll = new this.constructor[Symbol.species]();\n    for (const [key, val] of this) coll.set(key, fn(val, key, this));\n    return coll;\n  }\n  some(fn, thisArg) {\n    if (typeof fn !== \"function\") throw new TypeError(`${fn} is not a function`);\n    if (thisArg !== void 0) fn = fn.bind(thisArg);\n    for (const [key, val] of this) {\n      if (fn(val, key, this)) return true;\n    }\n    return false;\n  }\n  every(fn, thisArg) {\n    if (typeof fn !== \"function\") throw new TypeError(`${fn} is not a function`);\n    if (thisArg !== void 0) fn = fn.bind(thisArg);\n    for (const [key, val] of this) {\n      if (!fn(val, key, this)) return false;\n    }\n    return true;\n  }\n  /**\n   * Applies a function to produce a single value. Identical in behavior to\n   * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce | Array.reduce()}.\n   *\n   * @param fn - Function used to reduce, taking four arguments; `accumulator`, `currentValue`, `currentKey`,\n   * and `collection`\n   * @param initialValue - Starting value for the accumulator\n   * @example\n   * ```ts\n   * collection.reduce((acc, guild) => acc + guild.memberCount, 0);\n   * ```\n   */\n  reduce(fn, initialValue) {\n    if (typeof fn !== \"function\") throw new TypeError(`${fn} is not a function`);\n    let accumulator;\n    const iterator = this.entries();\n    if (initialValue === void 0) {\n      if (this.size === 0) throw new TypeError(\"Reduce of empty collection with no initial value\");\n      accumulator = iterator.next().value[1];\n    } else {\n      accumulator = initialValue;\n    }\n    for (const [key, value] of iterator) {\n      accumulator = fn(accumulator, value, key, this);\n    }\n    return accumulator;\n  }\n  each(fn, thisArg) {\n    if (typeof fn !== \"function\") throw new TypeError(`${fn} is not a function`);\n    if (thisArg !== void 0) fn = fn.bind(thisArg);\n    for (const [key, value] of this) {\n      fn(value, key, this);\n    }\n    return this;\n  }\n  tap(fn, thisArg) {\n    if (typeof fn !== \"function\") throw new TypeError(`${fn} is not a function`);\n    if (thisArg !== void 0) fn = fn.bind(thisArg);\n    fn(this);\n    return this;\n  }\n  /**\n   * Creates an identical shallow copy of this collection.\n   *\n   * @example\n   * ```ts\n   * const newColl = someColl.clone();\n   * ```\n   */\n  clone() {\n    return new this.constructor[Symbol.species](this);\n  }\n  /**\n   * Combines this collection with others into a new collection. None of the source collections are modified.\n   *\n   * @param collections - Collections to merge\n   * @example\n   * ```ts\n   * const newColl = someColl.concat(someOtherColl, anotherColl, ohBoyAColl);\n   * ```\n   */\n  concat(...collections) {\n    const newColl = this.clone();\n    for (const coll of collections) {\n      for (const [key, val] of coll) newColl.set(key, val);\n    }\n    return newColl;\n  }\n  /**\n   * Checks if this collection shares identical items with another.\n   * This is different to checking for equality using equal-signs, because\n   * the collections may be different objects, but contain the same data.\n   *\n   * @param collection - Collection to compare with\n   * @returns Whether the collections have identical contents\n   */\n  equals(collection) {\n    if (!collection) return false;\n    if (this === collection) return true;\n    if (this.size !== collection.size) return false;\n    for (const [key, value] of this) {\n      if (!collection.has(key) || value !== collection.get(key)) {\n        return false;\n      }\n    }\n    return true;\n  }\n  /**\n   * The sort method sorts the items of a collection in place and returns it.\n   * The sort is not necessarily stable in Node 10 or older.\n   * The default sort order is according to string Unicode code points.\n   *\n   * @param compareFunction - Specifies a function that defines the sort order.\n   * If omitted, the collection is sorted according to each character's Unicode code point value, according to the string conversion of each element.\n   * @example\n   * ```ts\n   * collection.sort((userA, userB) => userA.createdTimestamp - userB.createdTimestamp);\n   * ```\n   */\n  sort(compareFunction = _Collection.defaultSort) {\n    const entries = [...this.entries()];\n    entries.sort((a, b) => compareFunction(a[1], b[1], a[0], b[0]));\n    super.clear();\n    for (const [key, value] of entries) {\n      super.set(key, value);\n    }\n    return this;\n  }\n  /**\n   * The intersect method returns a new structure containing items where the keys and values are present in both original structures.\n   *\n   * @param other - The other Collection to filter against\n   */\n  intersect(other) {\n    const coll = new this.constructor[Symbol.species]();\n    for (const [key, value] of other) {\n      if (this.has(key) && Object.is(value, this.get(key))) {\n        coll.set(key, value);\n      }\n    }\n    return coll;\n  }\n  /**\n   * The subtract method returns a new structure containing items where the keys and values of the original structure are not present in the other.\n   *\n   * @param other - The other Collection to filter against\n   */\n  subtract(other) {\n    const coll = new this.constructor[Symbol.species]();\n    for (const [key, value] of this) {\n      if (!other.has(key) || !Object.is(value, other.get(key))) {\n        coll.set(key, value);\n      }\n    }\n    return coll;\n  }\n  /**\n   * The difference method returns a new structure containing items where the key is present in one of the original structures but not the other.\n   *\n   * @param other - The other Collection to filter against\n   */\n  difference(other) {\n    const coll = new this.constructor[Symbol.species]();\n    for (const [key, value] of other) {\n      if (!this.has(key)) coll.set(key, value);\n    }\n    for (const [key, value] of this) {\n      if (!other.has(key)) coll.set(key, value);\n    }\n    return coll;\n  }\n  /**\n   * Merges two Collections together into a new Collection.\n   *\n   * @param other - The other Collection to merge with\n   * @param whenInSelf - Function getting the result if the entry only exists in this Collection\n   * @param whenInOther - Function getting the result if the entry only exists in the other Collection\n   * @param whenInBoth - Function getting the result if the entry exists in both Collections\n   * @example\n   * ```ts\n   * // Sums up the entries in two collections.\n   * coll.merge(\n   *  other,\n   *  x => ({ keep: true, value: x }),\n   *  y => ({ keep: true, value: y }),\n   *  (x, y) => ({ keep: true, value: x + y }),\n   * );\n   * ```\n   * @example\n   * ```ts\n   * // Intersects two collections in a left-biased manner.\n   * coll.merge(\n   *  other,\n   *  x => ({ keep: false }),\n   *  y => ({ keep: false }),\n   *  (x, _) => ({ keep: true, value: x }),\n   * );\n   * ```\n   */\n  merge(other, whenInSelf, whenInOther, whenInBoth) {\n    const coll = new this.constructor[Symbol.species]();\n    const keys = /* @__PURE__ */new Set([...this.keys(), ...other.keys()]);\n    for (const key of keys) {\n      const hasInSelf = this.has(key);\n      const hasInOther = other.has(key);\n      if (hasInSelf && hasInOther) {\n        const result = whenInBoth(this.get(key), other.get(key), key);\n        if (result.keep) coll.set(key, result.value);\n      } else if (hasInSelf) {\n        const result = whenInSelf(this.get(key), key);\n        if (result.keep) coll.set(key, result.value);\n      } else if (hasInOther) {\n        const result = whenInOther(other.get(key), key);\n        if (result.keep) coll.set(key, result.value);\n      }\n    }\n    return coll;\n  }\n  /**\n   * The sorted method sorts the items of a collection and returns it.\n   * The sort is not necessarily stable in Node 10 or older.\n   * The default sort order is according to string Unicode code points.\n   *\n   * @param compareFunction - Specifies a function that defines the sort order.\n   * If omitted, the collection is sorted according to each character's Unicode code point value,\n   * according to the string conversion of each element.\n   * @example\n   * ```ts\n   * collection.sorted((userA, userB) => userA.createdTimestamp - userB.createdTimestamp);\n   * ```\n   */\n  sorted(compareFunction = _Collection.defaultSort) {\n    return new this.constructor[Symbol.species](this).sort((av, bv, ak, bk) => compareFunction(av, bv, ak, bk));\n  }\n  toJSON() {\n    return [...this.values()];\n  }\n  static defaultSort(firstValue, secondValue) {\n    return Number(firstValue > secondValue) || Number(firstValue === secondValue) - 1;\n  }\n  /**\n   * Creates a Collection from a list of entries.\n   *\n   * @param entries - The list of entries\n   * @param combine - Function to combine an existing entry with a new one\n   * @example\n   * ```ts\n   * Collection.combineEntries([[\"a\", 1], [\"b\", 2], [\"a\", 2]], (x, y) => x + y);\n   * // returns Collection { \"a\" => 3, \"b\" => 2 }\n   * ```\n   */\n  static combineEntries(entries, combine) {\n    const coll = new _Collection();\n    for (const [key, value] of entries) {\n      if (coll.has(key)) {\n        coll.set(key, combine(coll.get(key), value, key));\n      } else {\n        coll.set(key, value);\n      }\n    }\n    return coll;\n  }\n};\n\n// src/index.ts\nvar version = \"1.5.3\";\n// Annotate the CommonJS export names for ESM import in node:\n0 && (module.exports = {\n  Collection,\n  version\n});","map":{"version":3,"names":["src_exports","__export","Collection","version","module","exports","__toCommonJS","_Collection","Map","__name","ensure","key","defaultValueGenerator","has","get","TypeError","defaultValue","set","hasAll","keys","every","hasAny","some","first","amount","values","next","value","last","Math","min","size","iter","Array","from","length","firstKey","lastKey","arr","slice","at","index","floor","keyAt","random","splice","randomKey","reverse","entries","clear","find","fn","thisArg","bind","val","findKey","sweep","previousSize","delete","filter","results","constructor","Symbol","species","partition","flatMap","collections","map","concat","mapValues","coll","reduce","initialValue","accumulator","iterator","each","tap","clone","newColl","equals","collection","sort","compareFunction","defaultSort","a","b","intersect","other","Object","is","subtract","difference","merge","whenInSelf","whenInOther","whenInBoth","Set","hasInSelf","hasInOther","result","keep","sorted","av","bv","ak","bk","toJSON","firstValue","secondValue","Number","combineEntries","combine"],"sources":["C:\\Users\\hetit\\node_modules\\@discordjs\\collection\\src\\index.ts","C:\\Users\\hetit\\node_modules\\@discordjs\\collection\\src\\collection.ts"],"sourcesContent":["export * from './collection.js';\n\n/**\n * The {@link https://github.com/discordjs/discord.js/blob/main/packages/collection/#readme | @discordjs/collection} version\n * that you are currently using.\n */\n// This needs to explicitly be `string` so it is not typed as a \"const string\" that gets injected by esbuild\nexport const version = '1.5.3' as string;\n","/* eslint-disable no-param-reassign */\n/**\n * @internal\n */\nexport interface CollectionConstructor {\n\tnew (): Collection<unknown, unknown>;\n\tnew <K, V>(entries?: readonly (readonly [K, V])[] | null): Collection<K, V>;\n\tnew <K, V>(iterable: Iterable<readonly [K, V]>): Collection<K, V>;\n\treadonly prototype: Collection<unknown, unknown>;\n\treadonly [Symbol.species]: CollectionConstructor;\n}\n\n/**\n * Represents an immutable version of a collection\n */\nexport type ReadonlyCollection<K, V> = Omit<\n\tCollection<K, V>,\n\t'delete' | 'ensure' | 'forEach' | 'get' | 'reverse' | 'set' | 'sort' | 'sweep'\n> &\n\tReadonlyMap<K, V>;\n\n/**\n * Separate interface for the constructor so that emitted js does not have a constructor that overwrites itself\n *\n * @internal\n */\nexport interface Collection<K, V> extends Map<K, V> {\n\tconstructor: CollectionConstructor;\n}\n\n/**\n * A Map with additional utility methods. This is used throughout discord.js rather than Arrays for anything that has\n * an ID, for significantly improved performance and ease-of-use.\n *\n * @typeParam K - The key type this collection holds\n * @typeParam V - The value type this collection holds\n */\nexport class Collection<K, V> extends Map<K, V> {\n\t/**\n\t * Obtains the value of the given key if it exists, otherwise sets and returns the value provided by the default value generator.\n\t *\n\t * @param key - The key to get if it exists, or set otherwise\n\t * @param defaultValueGenerator - A function that generates the default value\n\t * @example\n\t * ```ts\n\t * collection.ensure(guildId, () => defaultGuildConfig);\n\t * ```\n\t */\n\tpublic ensure(key: K, defaultValueGenerator: (key: K, collection: this) => V): V {\n\t\tif (this.has(key)) return this.get(key)!;\n\t\tif (typeof defaultValueGenerator !== 'function') throw new TypeError(`${defaultValueGenerator} is not a function`);\n\t\tconst defaultValue = defaultValueGenerator(key, this);\n\t\tthis.set(key, defaultValue);\n\t\treturn defaultValue;\n\t}\n\n\t/**\n\t * Checks if all of the elements exist in the collection.\n\t *\n\t * @param keys - The keys of the elements to check for\n\t * @returns `true` if all of the elements exist, `false` if at least one does not exist.\n\t */\n\tpublic hasAll(...keys: K[]) {\n\t\treturn keys.every((key) => super.has(key));\n\t}\n\n\t/**\n\t * Checks if any of the elements exist in the collection.\n\t *\n\t * @param keys - The keys of the elements to check for\n\t * @returns `true` if any of the elements exist, `false` if none exist.\n\t */\n\tpublic hasAny(...keys: K[]) {\n\t\treturn keys.some((key) => super.has(key));\n\t}\n\n\t/**\n\t * Obtains the first value(s) in this collection.\n\t *\n\t * @param amount - Amount of values to obtain from the beginning\n\t * @returns A single value if no amount is provided or an array of values, starting from the end if amount is negative\n\t */\n\tpublic first(): V | undefined;\n\tpublic first(amount: number): V[];\n\tpublic first(amount?: number): V | V[] | undefined {\n\t\tif (amount === undefined) return this.values().next().value;\n\t\tif (amount < 0) return this.last(amount * -1);\n\t\tamount = Math.min(this.size, amount);\n\t\tconst iter = this.values();\n\t\treturn Array.from({ length: amount }, (): V => iter.next().value);\n\t}\n\n\t/**\n\t * Obtains the first key(s) in this collection.\n\t *\n\t * @param amount - Amount of keys to obtain from the beginning\n\t * @returns A single key if no amount is provided or an array of keys, starting from the end if\n\t * amount is negative\n\t */\n\tpublic firstKey(): K | undefined;\n\tpublic firstKey(amount: number): K[];\n\tpublic firstKey(amount?: number): K | K[] | undefined {\n\t\tif (amount === undefined) return this.keys().next().value;\n\t\tif (amount < 0) return this.lastKey(amount * -1);\n\t\tamount = Math.min(this.size, amount);\n\t\tconst iter = this.keys();\n\t\treturn Array.from({ length: amount }, (): K => iter.next().value);\n\t}\n\n\t/**\n\t * Obtains the last value(s) in this collection.\n\t *\n\t * @param amount - Amount of values to obtain from the end\n\t * @returns A single value if no amount is provided or an array of values, starting from the start if\n\t * amount is negative\n\t */\n\tpublic last(): V | undefined;\n\tpublic last(amount: number): V[];\n\tpublic last(amount?: number): V | V[] | undefined {\n\t\tconst arr = [...this.values()];\n\t\tif (amount === undefined) return arr[arr.length - 1];\n\t\tif (amount < 0) return this.first(amount * -1);\n\t\tif (!amount) return [];\n\t\treturn arr.slice(-amount);\n\t}\n\n\t/**\n\t * Obtains the last key(s) in this collection.\n\t *\n\t * @param amount - Amount of keys to obtain from the end\n\t * @returns A single key if no amount is provided or an array of keys, starting from the start if\n\t * amount is negative\n\t */\n\tpublic lastKey(): K | undefined;\n\tpublic lastKey(amount: number): K[];\n\tpublic lastKey(amount?: number): K | K[] | undefined {\n\t\tconst arr = [...this.keys()];\n\t\tif (amount === undefined) return arr[arr.length - 1];\n\t\tif (amount < 0) return this.firstKey(amount * -1);\n\t\tif (!amount) return [];\n\t\treturn arr.slice(-amount);\n\t}\n\n\t/**\n\t * Identical to {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/at | Array.at()}.\n\t * Returns the item at a given index, allowing for positive and negative integers.\n\t * Negative integers count back from the last item in the collection.\n\t *\n\t * @param index - The index of the element to obtain\n\t */\n\tpublic at(index: number) {\n\t\tindex = Math.floor(index);\n\t\tconst arr = [...this.values()];\n\t\treturn arr.at(index);\n\t}\n\n\t/**\n\t * Identical to {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/at | Array.at()}.\n\t * Returns the key at a given index, allowing for positive and negative integers.\n\t * Negative integers count back from the last item in the collection.\n\t *\n\t * @param index - The index of the key to obtain\n\t */\n\tpublic keyAt(index: number) {\n\t\tindex = Math.floor(index);\n\t\tconst arr = [...this.keys()];\n\t\treturn arr.at(index);\n\t}\n\n\t/**\n\t * Obtains unique random value(s) from this collection.\n\t *\n\t * @param amount - Amount of values to obtain randomly\n\t * @returns A single value if no amount is provided or an array of values\n\t */\n\tpublic random(): V | undefined;\n\tpublic random(amount: number): V[];\n\tpublic random(amount?: number): V | V[] | undefined {\n\t\tconst arr = [...this.values()];\n\t\tif (amount === undefined) return arr[Math.floor(Math.random() * arr.length)];\n\t\tif (!arr.length || !amount) return [];\n\t\treturn Array.from(\n\t\t\t{ length: Math.min(amount, arr.length) },\n\t\t\t(): V => arr.splice(Math.floor(Math.random() * arr.length), 1)[0]!,\n\t\t);\n\t}\n\n\t/**\n\t * Obtains unique random key(s) from this collection.\n\t *\n\t * @param amount - Amount of keys to obtain randomly\n\t * @returns A single key if no amount is provided or an array\n\t */\n\tpublic randomKey(): K | undefined;\n\tpublic randomKey(amount: number): K[];\n\tpublic randomKey(amount?: number): K | K[] | undefined {\n\t\tconst arr = [...this.keys()];\n\t\tif (amount === undefined) return arr[Math.floor(Math.random() * arr.length)];\n\t\tif (!arr.length || !amount) return [];\n\t\treturn Array.from(\n\t\t\t{ length: Math.min(amount, arr.length) },\n\t\t\t(): K => arr.splice(Math.floor(Math.random() * arr.length), 1)[0]!,\n\t\t);\n\t}\n\n\t/**\n\t * Identical to {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reverse | Array.reverse()}\n\t * but returns a Collection instead of an Array.\n\t */\n\tpublic reverse() {\n\t\tconst entries = [...this.entries()].reverse();\n\t\tthis.clear();\n\t\tfor (const [key, value] of entries) this.set(key, value);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Searches for a single item where the given function returns a truthy value. This behaves like\n\t * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/find | Array.find()}.\n\t * All collections used in Discord.js are mapped using their `id` property, and if you want to find by id you\n\t * should use the `get` method. See\n\t * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/get | MDN} for details.\n\t *\n\t * @param fn - The function to test with (should return boolean)\n\t * @param thisArg - Value to use as `this` when executing function\n\t * @example\n\t * ```ts\n\t * collection.find(user => user.username === 'Bob');\n\t * ```\n\t */\n\tpublic find<V2 extends V>(fn: (value: V, key: K, collection: this) => value is V2): V2 | undefined;\n\tpublic find(fn: (value: V, key: K, collection: this) => unknown): V | undefined;\n\tpublic find<This, V2 extends V>(\n\t\tfn: (this: This, value: V, key: K, collection: this) => value is V2,\n\t\tthisArg: This,\n\t): V2 | undefined;\n\tpublic find<This>(fn: (this: This, value: V, key: K, collection: this) => unknown, thisArg: This): V | undefined;\n\tpublic find(fn: (value: V, key: K, collection: this) => unknown, thisArg?: unknown): V | undefined {\n\t\tif (typeof fn !== 'function') throw new TypeError(`${fn} is not a function`);\n\t\tif (thisArg !== undefined) fn = fn.bind(thisArg);\n\t\tfor (const [key, val] of this) {\n\t\t\tif (fn(val, key, this)) return val;\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\t/**\n\t * Searches for the key of a single item where the given function returns a truthy value. This behaves like\n\t * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/findIndex | Array.findIndex()},\n\t * but returns the key rather than the positional index.\n\t *\n\t * @param fn - The function to test with (should return boolean)\n\t * @param thisArg - Value to use as `this` when executing function\n\t * @example\n\t * ```ts\n\t * collection.findKey(user => user.username === 'Bob');\n\t * ```\n\t */\n\tpublic findKey<K2 extends K>(fn: (value: V, key: K, collection: this) => key is K2): K2 | undefined;\n\tpublic findKey(fn: (value: V, key: K, collection: this) => unknown): K | undefined;\n\tpublic findKey<This, K2 extends K>(\n\t\tfn: (this: This, value: V, key: K, collection: this) => key is K2,\n\t\tthisArg: This,\n\t): K2 | undefined;\n\tpublic findKey<This>(fn: (this: This, value: V, key: K, collection: this) => unknown, thisArg: This): K | undefined;\n\tpublic findKey(fn: (value: V, key: K, collection: this) => unknown, thisArg?: unknown): K | undefined {\n\t\tif (typeof fn !== 'function') throw new TypeError(`${fn} is not a function`);\n\t\tif (thisArg !== undefined) fn = fn.bind(thisArg);\n\t\tfor (const [key, val] of this) {\n\t\t\tif (fn(val, key, this)) return key;\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\t/**\n\t * Removes items that satisfy the provided filter function.\n\t *\n\t * @param fn - Function used to test (should return a boolean)\n\t * @param thisArg - Value to use as `this` when executing function\n\t * @returns The number of removed entries\n\t */\n\tpublic sweep(fn: (value: V, key: K, collection: this) => unknown): number;\n\tpublic sweep<T>(fn: (this: T, value: V, key: K, collection: this) => unknown, thisArg: T): number;\n\tpublic sweep(fn: (value: V, key: K, collection: this) => unknown, thisArg?: unknown): number {\n\t\tif (typeof fn !== 'function') throw new TypeError(`${fn} is not a function`);\n\t\tif (thisArg !== undefined) fn = fn.bind(thisArg);\n\t\tconst previousSize = this.size;\n\t\tfor (const [key, val] of this) {\n\t\t\tif (fn(val, key, this)) this.delete(key);\n\t\t}\n\n\t\treturn previousSize - this.size;\n\t}\n\n\t/**\n\t * Identical to\n\t * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter | Array.filter()},\n\t * but returns a Collection instead of an Array.\n\t *\n\t * @param fn - The function to test with (should return boolean)\n\t * @param thisArg - Value to use as `this` when executing function\n\t * @example\n\t * ```ts\n\t * collection.filter(user => user.username === 'Bob');\n\t * ```\n\t */\n\tpublic filter<K2 extends K>(fn: (value: V, key: K, collection: this) => key is K2): Collection<K2, V>;\n\tpublic filter<V2 extends V>(fn: (value: V, key: K, collection: this) => value is V2): Collection<K, V2>;\n\tpublic filter(fn: (value: V, key: K, collection: this) => unknown): Collection<K, V>;\n\tpublic filter<This, K2 extends K>(\n\t\tfn: (this: This, value: V, key: K, collection: this) => key is K2,\n\t\tthisArg: This,\n\t): Collection<K2, V>;\n\tpublic filter<This, V2 extends V>(\n\t\tfn: (this: This, value: V, key: K, collection: this) => value is V2,\n\t\tthisArg: This,\n\t): Collection<K, V2>;\n\tpublic filter<This>(fn: (this: This, value: V, key: K, collection: this) => unknown, thisArg: This): Collection<K, V>;\n\tpublic filter(fn: (value: V, key: K, collection: this) => unknown, thisArg?: unknown): Collection<K, V> {\n\t\tif (typeof fn !== 'function') throw new TypeError(`${fn} is not a function`);\n\t\tif (thisArg !== undefined) fn = fn.bind(thisArg);\n\t\tconst results = new this.constructor[Symbol.species]<K, V>();\n\t\tfor (const [key, val] of this) {\n\t\t\tif (fn(val, key, this)) results.set(key, val);\n\t\t}\n\n\t\treturn results;\n\t}\n\n\t/**\n\t * Partitions the collection into two collections where the first collection\n\t * contains the items that passed and the second contains the items that failed.\n\t *\n\t * @param fn - Function used to test (should return a boolean)\n\t * @param thisArg - Value to use as `this` when executing function\n\t * @example\n\t * ```ts\n\t * const [big, small] = collection.partition(guild => guild.memberCount > 250);\n\t * ```\n\t */\n\tpublic partition<K2 extends K>(\n\t\tfn: (value: V, key: K, collection: this) => key is K2,\n\t): [Collection<K2, V>, Collection<Exclude<K, K2>, V>];\n\tpublic partition<V2 extends V>(\n\t\tfn: (value: V, key: K, collection: this) => value is V2,\n\t): [Collection<K, V2>, Collection<K, Exclude<V, V2>>];\n\tpublic partition(fn: (value: V, key: K, collection: this) => unknown): [Collection<K, V>, Collection<K, V>];\n\tpublic partition<This, K2 extends K>(\n\t\tfn: (this: This, value: V, key: K, collection: this) => key is K2,\n\t\tthisArg: This,\n\t): [Collection<K2, V>, Collection<Exclude<K, K2>, V>];\n\tpublic partition<This, V2 extends V>(\n\t\tfn: (this: This, value: V, key: K, collection: this) => value is V2,\n\t\tthisArg: This,\n\t): [Collection<K, V2>, Collection<K, Exclude<V, V2>>];\n\tpublic partition<This>(\n\t\tfn: (this: This, value: V, key: K, collection: this) => unknown,\n\t\tthisArg: This,\n\t): [Collection<K, V>, Collection<K, V>];\n\tpublic partition(\n\t\tfn: (value: V, key: K, collection: this) => unknown,\n\t\tthisArg?: unknown,\n\t): [Collection<K, V>, Collection<K, V>] {\n\t\tif (typeof fn !== 'function') throw new TypeError(`${fn} is not a function`);\n\t\tif (thisArg !== undefined) fn = fn.bind(thisArg);\n\t\tconst results: [Collection<K, V>, Collection<K, V>] = [\n\t\t\tnew this.constructor[Symbol.species]<K, V>(),\n\t\t\tnew this.constructor[Symbol.species]<K, V>(),\n\t\t];\n\t\tfor (const [key, val] of this) {\n\t\t\tif (fn(val, key, this)) {\n\t\t\t\tresults[0].set(key, val);\n\t\t\t} else {\n\t\t\t\tresults[1].set(key, val);\n\t\t\t}\n\t\t}\n\n\t\treturn results;\n\t}\n\n\t/**\n\t * Maps each item into a Collection, then joins the results into a single Collection. Identical in behavior to\n\t * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/flatMap | Array.flatMap()}.\n\t *\n\t * @param fn - Function that produces a new Collection\n\t * @param thisArg - Value to use as `this` when executing function\n\t * @example\n\t * ```ts\n\t * collection.flatMap(guild => guild.members.cache);\n\t * ```\n\t */\n\tpublic flatMap<T>(fn: (value: V, key: K, collection: this) => Collection<K, T>): Collection<K, T>;\n\tpublic flatMap<T, This>(\n\t\tfn: (this: This, value: V, key: K, collection: this) => Collection<K, T>,\n\t\tthisArg: This,\n\t): Collection<K, T>;\n\tpublic flatMap<T>(fn: (value: V, key: K, collection: this) => Collection<K, T>, thisArg?: unknown): Collection<K, T> {\n\t\t// eslint-disable-next-line unicorn/no-array-method-this-argument\n\t\tconst collections = this.map(fn, thisArg);\n\t\treturn new this.constructor[Symbol.species]<K, T>().concat(...collections);\n\t}\n\n\t/**\n\t * Maps each item to another value into an array. Identical in behavior to\n\t * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map | Array.map()}.\n\t *\n\t * @param fn - Function that produces an element of the new array, taking three arguments\n\t * @param thisArg - Value to use as `this` when executing function\n\t * @example\n\t * ```ts\n\t * collection.map(user => user.tag);\n\t * ```\n\t */\n\tpublic map<T>(fn: (value: V, key: K, collection: this) => T): T[];\n\tpublic map<This, T>(fn: (this: This, value: V, key: K, collection: this) => T, thisArg: This): T[];\n\tpublic map<T>(fn: (value: V, key: K, collection: this) => T, thisArg?: unknown): T[] {\n\t\tif (typeof fn !== 'function') throw new TypeError(`${fn} is not a function`);\n\t\tif (thisArg !== undefined) fn = fn.bind(thisArg);\n\t\tconst iter = this.entries();\n\t\treturn Array.from({ length: this.size }, (): T => {\n\t\t\tconst [key, value] = iter.next().value;\n\t\t\treturn fn(value, key, this);\n\t\t});\n\t}\n\n\t/**\n\t * Maps each item to another value into a collection. Identical in behavior to\n\t * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map | Array.map()}.\n\t *\n\t * @param fn - Function that produces an element of the new collection, taking three arguments\n\t * @param thisArg - Value to use as `this` when executing function\n\t * @example\n\t * ```ts\n\t * collection.mapValues(user => user.tag);\n\t * ```\n\t */\n\tpublic mapValues<T>(fn: (value: V, key: K, collection: this) => T): Collection<K, T>;\n\tpublic mapValues<This, T>(fn: (this: This, value: V, key: K, collection: this) => T, thisArg: This): Collection<K, T>;\n\tpublic mapValues<T>(fn: (value: V, key: K, collection: this) => T, thisArg?: unknown): Collection<K, T> {\n\t\tif (typeof fn !== 'function') throw new TypeError(`${fn} is not a function`);\n\t\tif (thisArg !== undefined) fn = fn.bind(thisArg);\n\t\tconst coll = new this.constructor[Symbol.species]<K, T>();\n\t\tfor (const [key, val] of this) coll.set(key, fn(val, key, this));\n\t\treturn coll;\n\t}\n\n\t/**\n\t * Checks if there exists an item that passes a test. Identical in behavior to\n\t * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/some | Array.some()}.\n\t *\n\t * @param fn - Function used to test (should return a boolean)\n\t * @param thisArg - Value to use as `this` when executing function\n\t * @example\n\t * ```ts\n\t * collection.some(user => user.discriminator === '0000');\n\t * ```\n\t */\n\tpublic some(fn: (value: V, key: K, collection: this) => unknown): boolean;\n\tpublic some<T>(fn: (this: T, value: V, key: K, collection: this) => unknown, thisArg: T): boolean;\n\tpublic some(fn: (value: V, key: K, collection: this) => unknown, thisArg?: unknown): boolean {\n\t\tif (typeof fn !== 'function') throw new TypeError(`${fn} is not a function`);\n\t\tif (thisArg !== undefined) fn = fn.bind(thisArg);\n\t\tfor (const [key, val] of this) {\n\t\t\tif (fn(val, key, this)) return true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t * Checks if all items passes a test. Identical in behavior to\n\t * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/every | Array.every()}.\n\t *\n\t * @param fn - Function used to test (should return a boolean)\n\t * @param thisArg - Value to use as `this` when executing function\n\t * @example\n\t * ```ts\n\t * collection.every(user => !user.bot);\n\t * ```\n\t */\n\tpublic every<K2 extends K>(fn: (value: V, key: K, collection: this) => key is K2): this is Collection<K2, V>;\n\tpublic every<V2 extends V>(fn: (value: V, key: K, collection: this) => value is V2): this is Collection<K, V2>;\n\tpublic every(fn: (value: V, key: K, collection: this) => unknown): boolean;\n\tpublic every<This, K2 extends K>(\n\t\tfn: (this: This, value: V, key: K, collection: this) => key is K2,\n\t\tthisArg: This,\n\t): this is Collection<K2, V>;\n\tpublic every<This, V2 extends V>(\n\t\tfn: (this: This, value: V, key: K, collection: this) => value is V2,\n\t\tthisArg: This,\n\t): this is Collection<K, V2>;\n\tpublic every<This>(fn: (this: This, value: V, key: K, collection: this) => unknown, thisArg: This): boolean;\n\tpublic every(fn: (value: V, key: K, collection: this) => unknown, thisArg?: unknown): boolean {\n\t\tif (typeof fn !== 'function') throw new TypeError(`${fn} is not a function`);\n\t\tif (thisArg !== undefined) fn = fn.bind(thisArg);\n\t\tfor (const [key, val] of this) {\n\t\t\tif (!fn(val, key, this)) return false;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\t/**\n\t * Applies a function to produce a single value. Identical in behavior to\n\t * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce | Array.reduce()}.\n\t *\n\t * @param fn - Function used to reduce, taking four arguments; `accumulator`, `currentValue`, `currentKey`,\n\t * and `collection`\n\t * @param initialValue - Starting value for the accumulator\n\t * @example\n\t * ```ts\n\t * collection.reduce((acc, guild) => acc + guild.memberCount, 0);\n\t * ```\n\t */\n\tpublic reduce<T = V>(fn: (accumulator: T, value: V, key: K, collection: this) => T, initialValue?: T): T {\n\t\tif (typeof fn !== 'function') throw new TypeError(`${fn} is not a function`);\n\t\tlet accumulator!: T;\n\n\t\tconst iterator = this.entries();\n\t\tif (initialValue === undefined) {\n\t\t\tif (this.size === 0) throw new TypeError('Reduce of empty collection with no initial value');\n\t\t\taccumulator = iterator.next().value[1];\n\t\t} else {\n\t\t\taccumulator = initialValue;\n\t\t}\n\n\t\tfor (const [key, value] of iterator) {\n\t\t\taccumulator = fn(accumulator, value, key, this);\n\t\t}\n\n\t\treturn accumulator;\n\t}\n\n\t/**\n\t * Identical to\n\t * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/forEach | Map.forEach()},\n\t * but returns the collection instead of undefined.\n\t *\n\t * @param fn - Function to execute for each element\n\t * @param thisArg - Value to use as `this` when executing function\n\t * @example\n\t * ```ts\n\t * collection\n\t *  .each(user => console.log(user.username))\n\t *  .filter(user => user.bot)\n\t *  .each(user => console.log(user.username));\n\t * ```\n\t */\n\tpublic each(fn: (value: V, key: K, collection: this) => void): this;\n\tpublic each<T>(fn: (this: T, value: V, key: K, collection: this) => void, thisArg: T): this;\n\tpublic each(fn: (value: V, key: K, collection: this) => void, thisArg?: unknown): this {\n\t\tif (typeof fn !== 'function') throw new TypeError(`${fn} is not a function`);\n\t\tif (thisArg !== undefined) fn = fn.bind(thisArg);\n\n\t\tfor (const [key, value] of this) {\n\t\t\tfn(value, key, this);\n\t\t}\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * Runs a function on the collection and returns the collection.\n\t *\n\t * @param fn - Function to execute\n\t * @param thisArg - Value to use as `this` when executing function\n\t * @example\n\t * ```ts\n\t * collection\n\t *  .tap(coll => console.log(coll.size))\n\t *  .filter(user => user.bot)\n\t *  .tap(coll => console.log(coll.size))\n\t * ```\n\t */\n\tpublic tap(fn: (collection: this) => void): this;\n\tpublic tap<T>(fn: (this: T, collection: this) => void, thisArg: T): this;\n\tpublic tap(fn: (collection: this) => void, thisArg?: unknown): this {\n\t\tif (typeof fn !== 'function') throw new TypeError(`${fn} is not a function`);\n\t\tif (thisArg !== undefined) fn = fn.bind(thisArg);\n\t\tfn(this);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Creates an identical shallow copy of this collection.\n\t *\n\t * @example\n\t * ```ts\n\t * const newColl = someColl.clone();\n\t * ```\n\t */\n\tpublic clone(): Collection<K, V> {\n\t\treturn new this.constructor[Symbol.species](this);\n\t}\n\n\t/**\n\t * Combines this collection with others into a new collection. None of the source collections are modified.\n\t *\n\t * @param collections - Collections to merge\n\t * @example\n\t * ```ts\n\t * const newColl = someColl.concat(someOtherColl, anotherColl, ohBoyAColl);\n\t * ```\n\t */\n\tpublic concat(...collections: ReadonlyCollection<K, V>[]) {\n\t\tconst newColl = this.clone();\n\t\tfor (const coll of collections) {\n\t\t\tfor (const [key, val] of coll) newColl.set(key, val);\n\t\t}\n\n\t\treturn newColl;\n\t}\n\n\t/**\n\t * Checks if this collection shares identical items with another.\n\t * This is different to checking for equality using equal-signs, because\n\t * the collections may be different objects, but contain the same data.\n\t *\n\t * @param collection - Collection to compare with\n\t * @returns Whether the collections have identical contents\n\t */\n\tpublic equals(collection: ReadonlyCollection<K, V>) {\n\t\tif (!collection) return false; // runtime check\n\t\tif (this === collection) return true;\n\t\tif (this.size !== collection.size) return false;\n\t\tfor (const [key, value] of this) {\n\t\t\tif (!collection.has(key) || value !== collection.get(key)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t}\n\n\t/**\n\t * The sort method sorts the items of a collection in place and returns it.\n\t * The sort is not necessarily stable in Node 10 or older.\n\t * The default sort order is according to string Unicode code points.\n\t *\n\t * @param compareFunction - Specifies a function that defines the sort order.\n\t * If omitted, the collection is sorted according to each character's Unicode code point value, according to the string conversion of each element.\n\t * @example\n\t * ```ts\n\t * collection.sort((userA, userB) => userA.createdTimestamp - userB.createdTimestamp);\n\t * ```\n\t */\n\tpublic sort(compareFunction: Comparator<K, V> = Collection.defaultSort) {\n\t\tconst entries = [...this.entries()];\n\t\tentries.sort((a, b): number => compareFunction(a[1], b[1], a[0], b[0]));\n\n\t\t// Perform clean-up\n\t\tsuper.clear();\n\n\t\t// Set the new entries\n\t\tfor (const [key, value] of entries) {\n\t\t\tsuper.set(key, value);\n\t\t}\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * The intersect method returns a new structure containing items where the keys and values are present in both original structures.\n\t *\n\t * @param other - The other Collection to filter against\n\t */\n\tpublic intersect<T>(other: ReadonlyCollection<K, T>): Collection<K, T> {\n\t\tconst coll = new this.constructor[Symbol.species]<K, T>();\n\t\tfor (const [key, value] of other) {\n\t\t\tif (this.has(key) && Object.is(value, this.get(key))) {\n\t\t\t\tcoll.set(key, value);\n\t\t\t}\n\t\t}\n\n\t\treturn coll;\n\t}\n\n\t/**\n\t * The subtract method returns a new structure containing items where the keys and values of the original structure are not present in the other.\n\t *\n\t * @param other - The other Collection to filter against\n\t */\n\tpublic subtract<T>(other: ReadonlyCollection<K, T>): Collection<K, V> {\n\t\tconst coll = new this.constructor[Symbol.species]<K, V>();\n\t\tfor (const [key, value] of this) {\n\t\t\tif (!other.has(key) || !Object.is(value, other.get(key))) {\n\t\t\t\tcoll.set(key, value);\n\t\t\t}\n\t\t}\n\n\t\treturn coll;\n\t}\n\n\t/**\n\t * The difference method returns a new structure containing items where the key is present in one of the original structures but not the other.\n\t *\n\t * @param other - The other Collection to filter against\n\t */\n\tpublic difference<T>(other: ReadonlyCollection<K, T>): Collection<K, T | V> {\n\t\tconst coll = new this.constructor[Symbol.species]<K, T | V>();\n\t\tfor (const [key, value] of other) {\n\t\t\tif (!this.has(key)) coll.set(key, value);\n\t\t}\n\n\t\tfor (const [key, value] of this) {\n\t\t\tif (!other.has(key)) coll.set(key, value);\n\t\t}\n\n\t\treturn coll;\n\t}\n\n\t/**\n\t * Merges two Collections together into a new Collection.\n\t *\n\t * @param other - The other Collection to merge with\n\t * @param whenInSelf - Function getting the result if the entry only exists in this Collection\n\t * @param whenInOther - Function getting the result if the entry only exists in the other Collection\n\t * @param whenInBoth - Function getting the result if the entry exists in both Collections\n\t * @example\n\t * ```ts\n\t * // Sums up the entries in two collections.\n\t * coll.merge(\n\t *  other,\n\t *  x => ({ keep: true, value: x }),\n\t *  y => ({ keep: true, value: y }),\n\t *  (x, y) => ({ keep: true, value: x + y }),\n\t * );\n\t * ```\n\t * @example\n\t * ```ts\n\t * // Intersects two collections in a left-biased manner.\n\t * coll.merge(\n\t *  other,\n\t *  x => ({ keep: false }),\n\t *  y => ({ keep: false }),\n\t *  (x, _) => ({ keep: true, value: x }),\n\t * );\n\t * ```\n\t */\n\tpublic merge<T, R>(\n\t\tother: ReadonlyCollection<K, T>,\n\t\twhenInSelf: (value: V, key: K) => Keep<R>,\n\t\twhenInOther: (valueOther: T, key: K) => Keep<R>,\n\t\twhenInBoth: (value: V, valueOther: T, key: K) => Keep<R>,\n\t): Collection<K, R> {\n\t\tconst coll = new this.constructor[Symbol.species]<K, R>();\n\t\tconst keys = new Set([...this.keys(), ...other.keys()]);\n\n\t\tfor (const key of keys) {\n\t\t\tconst hasInSelf = this.has(key);\n\t\t\tconst hasInOther = other.has(key);\n\n\t\t\tif (hasInSelf && hasInOther) {\n\t\t\t\tconst result = whenInBoth(this.get(key)!, other.get(key)!, key);\n\t\t\t\tif (result.keep) coll.set(key, result.value);\n\t\t\t} else if (hasInSelf) {\n\t\t\t\tconst result = whenInSelf(this.get(key)!, key);\n\t\t\t\tif (result.keep) coll.set(key, result.value);\n\t\t\t} else if (hasInOther) {\n\t\t\t\tconst result = whenInOther(other.get(key)!, key);\n\t\t\t\tif (result.keep) coll.set(key, result.value);\n\t\t\t}\n\t\t}\n\n\t\treturn coll;\n\t}\n\n\t/**\n\t * The sorted method sorts the items of a collection and returns it.\n\t * The sort is not necessarily stable in Node 10 or older.\n\t * The default sort order is according to string Unicode code points.\n\t *\n\t * @param compareFunction - Specifies a function that defines the sort order.\n\t * If omitted, the collection is sorted according to each character's Unicode code point value,\n\t * according to the string conversion of each element.\n\t * @example\n\t * ```ts\n\t * collection.sorted((userA, userB) => userA.createdTimestamp - userB.createdTimestamp);\n\t * ```\n\t */\n\tpublic sorted(compareFunction: Comparator<K, V> = Collection.defaultSort) {\n\t\treturn new this.constructor[Symbol.species](this).sort((av, bv, ak, bk) => compareFunction(av, bv, ak, bk));\n\t}\n\n\tpublic toJSON() {\n\t\t// toJSON is called recursively by JSON.stringify.\n\t\treturn [...this.values()];\n\t}\n\n\tprivate static defaultSort<V>(firstValue: V, secondValue: V): number {\n\t\treturn Number(firstValue > secondValue) || Number(firstValue === secondValue) - 1;\n\t}\n\n\t/**\n\t * Creates a Collection from a list of entries.\n\t *\n\t * @param entries - The list of entries\n\t * @param combine - Function to combine an existing entry with a new one\n\t * @example\n\t * ```ts\n\t * Collection.combineEntries([[\"a\", 1], [\"b\", 2], [\"a\", 2]], (x, y) => x + y);\n\t * // returns Collection { \"a\" => 3, \"b\" => 2 }\n\t * ```\n\t */\n\tpublic static combineEntries<K, V>(\n\t\tentries: Iterable<[K, V]>,\n\t\tcombine: (firstValue: V, secondValue: V, key: K) => V,\n\t): Collection<K, V> {\n\t\tconst coll = new Collection<K, V>();\n\t\tfor (const [key, value] of entries) {\n\t\t\tif (coll.has(key)) {\n\t\t\t\tcoll.set(key, combine(coll.get(key)!, value, key));\n\t\t\t} else {\n\t\t\t\tcoll.set(key, value);\n\t\t\t}\n\t\t}\n\n\t\treturn coll;\n\t}\n}\n\n/**\n * @internal\n */\nexport type Keep<V> = { keep: false } | { keep: true; value: V };\n\n/**\n * @internal\n */\nexport type Comparator<K, V> = (firstValue: V, secondValue: V, firstKey: K, secondKey: K) => number;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAAA,WAAA;AAAAC,QAAA,CAAAD,WAAA;EAAAE,UAAA,EAAAA,CAAA,KAAAA,UAAA;EAAAC,OAAA,EAAAA,CAAA,KAAAA;AAAA;AAAAC,MAAA,CAAAC,OAAA,GAAAC,YAAA,CAAAN,WAAA;;;ACqCO,IAAME,UAAA,GAAN,MAAMK,WAAA,SAAyBC,GAAA,CAAU;EArChD;IAqCgDC,MAAA;EAAA;EAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAWxCC,OAAOC,GAAA,EAAQC,qBAAA,EAA2D;IAChF,IAAI,KAAKC,GAAA,CAAIF,GAAG,GAAG,OAAO,KAAKG,GAAA,CAAIH,GAAG;IACtC,IAAI,OAAOC,qBAAA,KAA0B,YAAY,MAAM,IAAIG,SAAA,CAAU,GAAGH,qBAAqB,oBAAoB;IACjH,MAAMI,YAAA,GAAeJ,qBAAA,CAAsBD,GAAA,EAAK,IAAI;IACpD,KAAKM,GAAA,CAAIN,GAAA,EAAKK,YAAY;IAC1B,OAAOA,YAAA;EACR;EAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAQOE,OAAA,GAAUC,IAAA,EAAW;IAC3B,OAAOA,IAAA,CAAKC,KAAA,CAAOT,GAAA,IAAQ,MAAME,GAAA,CAAIF,GAAG,CAAC;EAC1C;EAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAQOU,OAAA,GAAUF,IAAA,EAAW;IAC3B,OAAOA,IAAA,CAAKG,IAAA,CAAMX,GAAA,IAAQ,MAAME,GAAA,CAAIF,GAAG,CAAC;EACzC;EAUOY,MAAMC,MAAA,EAAsC;IAClD,IAAIA,MAAA,KAAW,QAAW,OAAO,KAAKC,MAAA,CAAO,EAAEC,IAAA,CAAK,EAAEC,KAAA;IACtD,IAAIH,MAAA,GAAS,GAAG,OAAO,KAAKI,IAAA,CAAKJ,MAAA,GAAS,EAAE;IAC5CA,MAAA,GAASK,IAAA,CAAKC,GAAA,CAAI,KAAKC,IAAA,EAAMP,MAAM;IACnC,MAAMQ,IAAA,GAAO,KAAKP,MAAA,CAAO;IACzB,OAAOQ,KAAA,CAAMC,IAAA,CAAK;MAAEC,MAAA,EAAQX;IAAO,GAAG,MAASQ,IAAA,CAAKN,IAAA,CAAK,EAAEC,KAAK;EACjE;EAWOS,SAASZ,MAAA,EAAsC;IACrD,IAAIA,MAAA,KAAW,QAAW,OAAO,KAAKL,IAAA,CAAK,EAAEO,IAAA,CAAK,EAAEC,KAAA;IACpD,IAAIH,MAAA,GAAS,GAAG,OAAO,KAAKa,OAAA,CAAQb,MAAA,GAAS,EAAE;IAC/CA,MAAA,GAASK,IAAA,CAAKC,GAAA,CAAI,KAAKC,IAAA,EAAMP,MAAM;IACnC,MAAMQ,IAAA,GAAO,KAAKb,IAAA,CAAK;IACvB,OAAOc,KAAA,CAAMC,IAAA,CAAK;MAAEC,MAAA,EAAQX;IAAO,GAAG,MAASQ,IAAA,CAAKN,IAAA,CAAK,EAAEC,KAAK;EACjE;EAWOC,KAAKJ,MAAA,EAAsC;IACjD,MAAMc,GAAA,GAAM,CAAC,GAAG,KAAKb,MAAA,CAAO,CAAC;IAC7B,IAAID,MAAA,KAAW,QAAW,OAAOc,GAAA,CAAIA,GAAA,CAAIH,MAAA,GAAS,CAAC;IACnD,IAAIX,MAAA,GAAS,GAAG,OAAO,KAAKD,KAAA,CAAMC,MAAA,GAAS,EAAE;IAC7C,IAAI,CAACA,MAAA,EAAQ,OAAO,EAAC;IACrB,OAAOc,GAAA,CAAIC,KAAA,CAAM,CAACf,MAAM;EACzB;EAWOa,QAAQb,MAAA,EAAsC;IACpD,MAAMc,GAAA,GAAM,CAAC,GAAG,KAAKnB,IAAA,CAAK,CAAC;IAC3B,IAAIK,MAAA,KAAW,QAAW,OAAOc,GAAA,CAAIA,GAAA,CAAIH,MAAA,GAAS,CAAC;IACnD,IAAIX,MAAA,GAAS,GAAG,OAAO,KAAKY,QAAA,CAASZ,MAAA,GAAS,EAAE;IAChD,IAAI,CAACA,MAAA,EAAQ,OAAO,EAAC;IACrB,OAAOc,GAAA,CAAIC,KAAA,CAAM,CAACf,MAAM;EACzB;EAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EASOgB,GAAGC,KAAA,EAAe;IACxBA,KAAA,GAAQZ,IAAA,CAAKa,KAAA,CAAMD,KAAK;IACxB,MAAMH,GAAA,GAAM,CAAC,GAAG,KAAKb,MAAA,CAAO,CAAC;IAC7B,OAAOa,GAAA,CAAIE,EAAA,CAAGC,KAAK;EACpB;EAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EASOE,MAAMF,KAAA,EAAe;IAC3BA,KAAA,GAAQZ,IAAA,CAAKa,KAAA,CAAMD,KAAK;IACxB,MAAMH,GAAA,GAAM,CAAC,GAAG,KAAKnB,IAAA,CAAK,CAAC;IAC3B,OAAOmB,GAAA,CAAIE,EAAA,CAAGC,KAAK;EACpB;EAUOG,OAAOpB,MAAA,EAAsC;IACnD,MAAMc,GAAA,GAAM,CAAC,GAAG,KAAKb,MAAA,CAAO,CAAC;IAC7B,IAAID,MAAA,KAAW,QAAW,OAAOc,GAAA,CAAIT,IAAA,CAAKa,KAAA,CAAMb,IAAA,CAAKe,MAAA,CAAO,IAAIN,GAAA,CAAIH,MAAM,CAAC;IAC3E,IAAI,CAACG,GAAA,CAAIH,MAAA,IAAU,CAACX,MAAA,EAAQ,OAAO,EAAC;IACpC,OAAOS,KAAA,CAAMC,IAAA,CACZ;MAAEC,MAAA,EAAQN,IAAA,CAAKC,GAAA,CAAIN,MAAA,EAAQc,GAAA,CAAIH,MAAM;IAAE,GACvC,MAASG,GAAA,CAAIO,MAAA,CAAOhB,IAAA,CAAKa,KAAA,CAAMb,IAAA,CAAKe,MAAA,CAAO,IAAIN,GAAA,CAAIH,MAAM,GAAG,CAAC,EAAE,CAAC,CACjE;EACD;EAUOW,UAAUtB,MAAA,EAAsC;IACtD,MAAMc,GAAA,GAAM,CAAC,GAAG,KAAKnB,IAAA,CAAK,CAAC;IAC3B,IAAIK,MAAA,KAAW,QAAW,OAAOc,GAAA,CAAIT,IAAA,CAAKa,KAAA,CAAMb,IAAA,CAAKe,MAAA,CAAO,IAAIN,GAAA,CAAIH,MAAM,CAAC;IAC3E,IAAI,CAACG,GAAA,CAAIH,MAAA,IAAU,CAACX,MAAA,EAAQ,OAAO,EAAC;IACpC,OAAOS,KAAA,CAAMC,IAAA,CACZ;MAAEC,MAAA,EAAQN,IAAA,CAAKC,GAAA,CAAIN,MAAA,EAAQc,GAAA,CAAIH,MAAM;IAAE,GACvC,MAASG,GAAA,CAAIO,MAAA,CAAOhB,IAAA,CAAKa,KAAA,CAAMb,IAAA,CAAKe,MAAA,CAAO,IAAIN,GAAA,CAAIH,MAAM,GAAG,CAAC,EAAE,CAAC,CACjE;EACD;EAAA;AAAA;AAAA;AAAA;EAMOY,QAAA,EAAU;IAChB,MAAMC,OAAA,GAAU,CAAC,GAAG,KAAKA,OAAA,CAAQ,CAAC,EAAED,OAAA,CAAQ;IAC5C,KAAKE,KAAA,CAAM;IACX,WAAW,CAACtC,GAAA,EAAKgB,KAAK,KAAKqB,OAAA,EAAS,KAAK/B,GAAA,CAAIN,GAAA,EAAKgB,KAAK;IACvD,OAAO;EACR;EAuBOuB,KAAKC,EAAA,EAAqDC,OAAA,EAAkC;IAClG,IAAI,OAAOD,EAAA,KAAO,YAAY,MAAM,IAAIpC,SAAA,CAAU,GAAGoC,EAAE,oBAAoB;IAC3E,IAAIC,OAAA,KAAY,QAAWD,EAAA,GAAKA,EAAA,CAAGE,IAAA,CAAKD,OAAO;IAC/C,WAAW,CAACzC,GAAA,EAAK2C,GAAG,KAAK,MAAM;MAC9B,IAAIH,EAAA,CAAGG,GAAA,EAAK3C,GAAA,EAAK,IAAI,GAAG,OAAO2C,GAAA;IAChC;IAEA,OAAO;EACR;EAqBOC,QAAQJ,EAAA,EAAqDC,OAAA,EAAkC;IACrG,IAAI,OAAOD,EAAA,KAAO,YAAY,MAAM,IAAIpC,SAAA,CAAU,GAAGoC,EAAE,oBAAoB;IAC3E,IAAIC,OAAA,KAAY,QAAWD,EAAA,GAAKA,EAAA,CAAGE,IAAA,CAAKD,OAAO;IAC/C,WAAW,CAACzC,GAAA,EAAK2C,GAAG,KAAK,MAAM;MAC9B,IAAIH,EAAA,CAAGG,GAAA,EAAK3C,GAAA,EAAK,IAAI,GAAG,OAAOA,GAAA;IAChC;IAEA,OAAO;EACR;EAWO6C,MAAML,EAAA,EAAqDC,OAAA,EAA2B;IAC5F,IAAI,OAAOD,EAAA,KAAO,YAAY,MAAM,IAAIpC,SAAA,CAAU,GAAGoC,EAAE,oBAAoB;IAC3E,IAAIC,OAAA,KAAY,QAAWD,EAAA,GAAKA,EAAA,CAAGE,IAAA,CAAKD,OAAO;IAC/C,MAAMK,YAAA,GAAe,KAAK1B,IAAA;IAC1B,WAAW,CAACpB,GAAA,EAAK2C,GAAG,KAAK,MAAM;MAC9B,IAAIH,EAAA,CAAGG,GAAA,EAAK3C,GAAA,EAAK,IAAI,GAAG,KAAK+C,MAAA,CAAO/C,GAAG;IACxC;IAEA,OAAO8C,YAAA,GAAe,KAAK1B,IAAA;EAC5B;EA0BO4B,OAAOR,EAAA,EAAqDC,OAAA,EAAqC;IACvG,IAAI,OAAOD,EAAA,KAAO,YAAY,MAAM,IAAIpC,SAAA,CAAU,GAAGoC,EAAE,oBAAoB;IAC3E,IAAIC,OAAA,KAAY,QAAWD,EAAA,GAAKA,EAAA,CAAGE,IAAA,CAAKD,OAAO;IAC/C,MAAMQ,OAAA,GAAU,IAAI,KAAKC,WAAA,CAAYC,MAAA,CAAOC,OAAO,EAAQ;IAC3D,WAAW,CAACpD,GAAA,EAAK2C,GAAG,KAAK,MAAM;MAC9B,IAAIH,EAAA,CAAGG,GAAA,EAAK3C,GAAA,EAAK,IAAI,GAAGiD,OAAA,CAAQ3C,GAAA,CAAIN,GAAA,EAAK2C,GAAG;IAC7C;IAEA,OAAOM,OAAA;EACR;EAgCOI,UACNb,EAAA,EACAC,OAAA,EACuC;IACvC,IAAI,OAAOD,EAAA,KAAO,YAAY,MAAM,IAAIpC,SAAA,CAAU,GAAGoC,EAAE,oBAAoB;IAC3E,IAAIC,OAAA,KAAY,QAAWD,EAAA,GAAKA,EAAA,CAAGE,IAAA,CAAKD,OAAO;IAC/C,MAAMQ,OAAA,GAAgD,CACrD,IAAI,KAAKC,WAAA,CAAYC,MAAA,CAAOC,OAAO,EAAQ,GAC3C,IAAI,KAAKF,WAAA,CAAYC,MAAA,CAAOC,OAAO,EAAQ,EAC5C;IACA,WAAW,CAACpD,GAAA,EAAK2C,GAAG,KAAK,MAAM;MAC9B,IAAIH,EAAA,CAAGG,GAAA,EAAK3C,GAAA,EAAK,IAAI,GAAG;QACvBiD,OAAA,CAAQ,CAAC,EAAE3C,GAAA,CAAIN,GAAA,EAAK2C,GAAG;MACxB,OAAO;QACNM,OAAA,CAAQ,CAAC,EAAE3C,GAAA,CAAIN,GAAA,EAAK2C,GAAG;MACxB;IACD;IAEA,OAAOM,OAAA;EACR;EAkBOK,QAAWd,EAAA,EAA8DC,OAAA,EAAqC;IAEpH,MAAMc,WAAA,GAAc,KAAKC,GAAA,CAAIhB,EAAA,EAAIC,OAAO;IACxC,OAAO,IAAI,KAAKS,WAAA,CAAYC,MAAA,CAAOC,OAAO,EAAQ,EAAEK,MAAA,CAAO,GAAGF,WAAW;EAC1E;EAeOC,IAAOhB,EAAA,EAA+CC,OAAA,EAAwB;IACpF,IAAI,OAAOD,EAAA,KAAO,YAAY,MAAM,IAAIpC,SAAA,CAAU,GAAGoC,EAAE,oBAAoB;IAC3E,IAAIC,OAAA,KAAY,QAAWD,EAAA,GAAKA,EAAA,CAAGE,IAAA,CAAKD,OAAO;IAC/C,MAAMpB,IAAA,GAAO,KAAKgB,OAAA,CAAQ;IAC1B,OAAOf,KAAA,CAAMC,IAAA,CAAK;MAAEC,MAAA,EAAQ,KAAKJ;IAAK,GAAG,MAAS;MACjD,MAAM,CAACpB,GAAA,EAAKgB,KAAK,IAAIK,IAAA,CAAKN,IAAA,CAAK,EAAEC,KAAA;MACjC,OAAOwB,EAAA,CAAGxB,KAAA,EAAOhB,GAAA,EAAK,IAAI;IAC3B,CAAC;EACF;EAeO0D,UAAalB,EAAA,EAA+CC,OAAA,EAAqC;IACvG,IAAI,OAAOD,EAAA,KAAO,YAAY,MAAM,IAAIpC,SAAA,CAAU,GAAGoC,EAAE,oBAAoB;IAC3E,IAAIC,OAAA,KAAY,QAAWD,EAAA,GAAKA,EAAA,CAAGE,IAAA,CAAKD,OAAO;IAC/C,MAAMkB,IAAA,GAAO,IAAI,KAAKT,WAAA,CAAYC,MAAA,CAAOC,OAAO,EAAQ;IACxD,WAAW,CAACpD,GAAA,EAAK2C,GAAG,KAAK,MAAMgB,IAAA,CAAKrD,GAAA,CAAIN,GAAA,EAAKwC,EAAA,CAAGG,GAAA,EAAK3C,GAAA,EAAK,IAAI,CAAC;IAC/D,OAAO2D,IAAA;EACR;EAeOhD,KAAK6B,EAAA,EAAqDC,OAAA,EAA4B;IAC5F,IAAI,OAAOD,EAAA,KAAO,YAAY,MAAM,IAAIpC,SAAA,CAAU,GAAGoC,EAAE,oBAAoB;IAC3E,IAAIC,OAAA,KAAY,QAAWD,EAAA,GAAKA,EAAA,CAAGE,IAAA,CAAKD,OAAO;IAC/C,WAAW,CAACzC,GAAA,EAAK2C,GAAG,KAAK,MAAM;MAC9B,IAAIH,EAAA,CAAGG,GAAA,EAAK3C,GAAA,EAAK,IAAI,GAAG,OAAO;IAChC;IAEA,OAAO;EACR;EAyBOS,MAAM+B,EAAA,EAAqDC,OAAA,EAA4B;IAC7F,IAAI,OAAOD,EAAA,KAAO,YAAY,MAAM,IAAIpC,SAAA,CAAU,GAAGoC,EAAE,oBAAoB;IAC3E,IAAIC,OAAA,KAAY,QAAWD,EAAA,GAAKA,EAAA,CAAGE,IAAA,CAAKD,OAAO;IAC/C,WAAW,CAACzC,GAAA,EAAK2C,GAAG,KAAK,MAAM;MAC9B,IAAI,CAACH,EAAA,CAAGG,GAAA,EAAK3C,GAAA,EAAK,IAAI,GAAG,OAAO;IACjC;IAEA,OAAO;EACR;EAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAcO4D,OAAcpB,EAAA,EAA+DqB,YAAA,EAAqB;IACxG,IAAI,OAAOrB,EAAA,KAAO,YAAY,MAAM,IAAIpC,SAAA,CAAU,GAAGoC,EAAE,oBAAoB;IAC3E,IAAIsB,WAAA;IAEJ,MAAMC,QAAA,GAAW,KAAK1B,OAAA,CAAQ;IAC9B,IAAIwB,YAAA,KAAiB,QAAW;MAC/B,IAAI,KAAKzC,IAAA,KAAS,GAAG,MAAM,IAAIhB,SAAA,CAAU,kDAAkD;MAC3F0D,WAAA,GAAcC,QAAA,CAAShD,IAAA,CAAK,EAAEC,KAAA,CAAM,CAAC;IACtC,OAAO;MACN8C,WAAA,GAAcD,YAAA;IACf;IAEA,WAAW,CAAC7D,GAAA,EAAKgB,KAAK,KAAK+C,QAAA,EAAU;MACpCD,WAAA,GAActB,EAAA,CAAGsB,WAAA,EAAa9C,KAAA,EAAOhB,GAAA,EAAK,IAAI;IAC/C;IAEA,OAAO8D,WAAA;EACR;EAmBOE,KAAKxB,EAAA,EAAkDC,OAAA,EAAyB;IACtF,IAAI,OAAOD,EAAA,KAAO,YAAY,MAAM,IAAIpC,SAAA,CAAU,GAAGoC,EAAE,oBAAoB;IAC3E,IAAIC,OAAA,KAAY,QAAWD,EAAA,GAAKA,EAAA,CAAGE,IAAA,CAAKD,OAAO;IAE/C,WAAW,CAACzC,GAAA,EAAKgB,KAAK,KAAK,MAAM;MAChCwB,EAAA,CAAGxB,KAAA,EAAOhB,GAAA,EAAK,IAAI;IACpB;IAEA,OAAO;EACR;EAiBOiE,IAAIzB,EAAA,EAAgCC,OAAA,EAAyB;IACnE,IAAI,OAAOD,EAAA,KAAO,YAAY,MAAM,IAAIpC,SAAA,CAAU,GAAGoC,EAAE,oBAAoB;IAC3E,IAAIC,OAAA,KAAY,QAAWD,EAAA,GAAKA,EAAA,CAAGE,IAAA,CAAKD,OAAO;IAC/CD,EAAA,CAAG,IAAI;IACP,OAAO;EACR;EAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAUO0B,MAAA,EAA0B;IAChC,OAAO,IAAI,KAAKhB,WAAA,CAAYC,MAAA,CAAOC,OAAO,EAAE,IAAI;EACjD;EAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAWOK,OAAA,GAAUF,WAAA,EAAyC;IACzD,MAAMY,OAAA,GAAU,KAAKD,KAAA,CAAM;IAC3B,WAAWP,IAAA,IAAQJ,WAAA,EAAa;MAC/B,WAAW,CAACvD,GAAA,EAAK2C,GAAG,KAAKgB,IAAA,EAAMQ,OAAA,CAAQ7D,GAAA,CAAIN,GAAA,EAAK2C,GAAG;IACpD;IAEA,OAAOwB,OAAA;EACR;EAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAUOC,OAAOC,UAAA,EAAsC;IACnD,IAAI,CAACA,UAAA,EAAY,OAAO;IACxB,IAAI,SAASA,UAAA,EAAY,OAAO;IAChC,IAAI,KAAKjD,IAAA,KAASiD,UAAA,CAAWjD,IAAA,EAAM,OAAO;IAC1C,WAAW,CAACpB,GAAA,EAAKgB,KAAK,KAAK,MAAM;MAChC,IAAI,CAACqD,UAAA,CAAWnE,GAAA,CAAIF,GAAG,KAAKgB,KAAA,KAAUqD,UAAA,CAAWlE,GAAA,CAAIH,GAAG,GAAG;QAC1D,OAAO;MACR;IACD;IAEA,OAAO;EACR;EAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAcOsE,KAAKC,eAAA,GAAoC3E,WAAA,CAAW4E,WAAA,EAAa;IACvE,MAAMnC,OAAA,GAAU,CAAC,GAAG,KAAKA,OAAA,CAAQ,CAAC;IAClCA,OAAA,CAAQiC,IAAA,CAAK,CAACG,CAAA,EAAGC,CAAA,KAAcH,eAAA,CAAgBE,CAAA,CAAE,CAAC,GAAGC,CAAA,CAAE,CAAC,GAAGD,CAAA,CAAE,CAAC,GAAGC,CAAA,CAAE,CAAC,CAAC,CAAC;IAGtE,MAAMpC,KAAA,CAAM;IAGZ,WAAW,CAACtC,GAAA,EAAKgB,KAAK,KAAKqB,OAAA,EAAS;MACnC,MAAM/B,GAAA,CAAIN,GAAA,EAAKgB,KAAK;IACrB;IAEA,OAAO;EACR;EAAA;AAAA;AAAA;AAAA;AAAA;EAOO2D,UAAaC,KAAA,EAAmD;IACtE,MAAMjB,IAAA,GAAO,IAAI,KAAKT,WAAA,CAAYC,MAAA,CAAOC,OAAO,EAAQ;IACxD,WAAW,CAACpD,GAAA,EAAKgB,KAAK,KAAK4D,KAAA,EAAO;MACjC,IAAI,KAAK1E,GAAA,CAAIF,GAAG,KAAK6E,MAAA,CAAOC,EAAA,CAAG9D,KAAA,EAAO,KAAKb,GAAA,CAAIH,GAAG,CAAC,GAAG;QACrD2D,IAAA,CAAKrD,GAAA,CAAIN,GAAA,EAAKgB,KAAK;MACpB;IACD;IAEA,OAAO2C,IAAA;EACR;EAAA;AAAA;AAAA;AAAA;AAAA;EAOOoB,SAAYH,KAAA,EAAmD;IACrE,MAAMjB,IAAA,GAAO,IAAI,KAAKT,WAAA,CAAYC,MAAA,CAAOC,OAAO,EAAQ;IACxD,WAAW,CAACpD,GAAA,EAAKgB,KAAK,KAAK,MAAM;MAChC,IAAI,CAAC4D,KAAA,CAAM1E,GAAA,CAAIF,GAAG,KAAK,CAAC6E,MAAA,CAAOC,EAAA,CAAG9D,KAAA,EAAO4D,KAAA,CAAMzE,GAAA,CAAIH,GAAG,CAAC,GAAG;QACzD2D,IAAA,CAAKrD,GAAA,CAAIN,GAAA,EAAKgB,KAAK;MACpB;IACD;IAEA,OAAO2C,IAAA;EACR;EAAA;AAAA;AAAA;AAAA;AAAA;EAOOqB,WAAcJ,KAAA,EAAuD;IAC3E,MAAMjB,IAAA,GAAO,IAAI,KAAKT,WAAA,CAAYC,MAAA,CAAOC,OAAO,EAAY;IAC5D,WAAW,CAACpD,GAAA,EAAKgB,KAAK,KAAK4D,KAAA,EAAO;MACjC,IAAI,CAAC,KAAK1E,GAAA,CAAIF,GAAG,GAAG2D,IAAA,CAAKrD,GAAA,CAAIN,GAAA,EAAKgB,KAAK;IACxC;IAEA,WAAW,CAAChB,GAAA,EAAKgB,KAAK,KAAK,MAAM;MAChC,IAAI,CAAC4D,KAAA,CAAM1E,GAAA,CAAIF,GAAG,GAAG2D,IAAA,CAAKrD,GAAA,CAAIN,GAAA,EAAKgB,KAAK;IACzC;IAEA,OAAO2C,IAAA;EACR;EAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EA8BOsB,MACNL,KAAA,EACAM,UAAA,EACAC,WAAA,EACAC,UAAA,EACmB;IACnB,MAAMzB,IAAA,GAAO,IAAI,KAAKT,WAAA,CAAYC,MAAA,CAAOC,OAAO,EAAQ;IACxD,MAAM5C,IAAA,GAAO,mBAAI6E,GAAA,CAAI,CAAC,GAAG,KAAK7E,IAAA,CAAK,GAAG,GAAGoE,KAAA,CAAMpE,IAAA,CAAK,CAAC,CAAC;IAEtD,WAAWR,GAAA,IAAOQ,IAAA,EAAM;MACvB,MAAM8E,SAAA,GAAY,KAAKpF,GAAA,CAAIF,GAAG;MAC9B,MAAMuF,UAAA,GAAaX,KAAA,CAAM1E,GAAA,CAAIF,GAAG;MAEhC,IAAIsF,SAAA,IAAaC,UAAA,EAAY;QAC5B,MAAMC,MAAA,GAASJ,UAAA,CAAW,KAAKjF,GAAA,CAAIH,GAAG,GAAI4E,KAAA,CAAMzE,GAAA,CAAIH,GAAG,GAAIA,GAAG;QAC9D,IAAIwF,MAAA,CAAOC,IAAA,EAAM9B,IAAA,CAAKrD,GAAA,CAAIN,GAAA,EAAKwF,MAAA,CAAOxE,KAAK;MAC5C,WAAWsE,SAAA,EAAW;QACrB,MAAME,MAAA,GAASN,UAAA,CAAW,KAAK/E,GAAA,CAAIH,GAAG,GAAIA,GAAG;QAC7C,IAAIwF,MAAA,CAAOC,IAAA,EAAM9B,IAAA,CAAKrD,GAAA,CAAIN,GAAA,EAAKwF,MAAA,CAAOxE,KAAK;MAC5C,WAAWuE,UAAA,EAAY;QACtB,MAAMC,MAAA,GAASL,WAAA,CAAYP,KAAA,CAAMzE,GAAA,CAAIH,GAAG,GAAIA,GAAG;QAC/C,IAAIwF,MAAA,CAAOC,IAAA,EAAM9B,IAAA,CAAKrD,GAAA,CAAIN,GAAA,EAAKwF,MAAA,CAAOxE,KAAK;MAC5C;IACD;IAEA,OAAO2C,IAAA;EACR;EAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAeO+B,OAAOnB,eAAA,GAAoC3E,WAAA,CAAW4E,WAAA,EAAa;IACzE,OAAO,IAAI,KAAKtB,WAAA,CAAYC,MAAA,CAAOC,OAAO,EAAE,IAAI,EAAEkB,IAAA,CAAK,CAACqB,EAAA,EAAIC,EAAA,EAAIC,EAAA,EAAIC,EAAA,KAAOvB,eAAA,CAAgBoB,EAAA,EAAIC,EAAA,EAAIC,EAAA,EAAIC,EAAE,CAAC;EAC3G;EAEOC,OAAA,EAAS;IAEf,OAAO,CAAC,GAAG,KAAKjF,MAAA,CAAO,CAAC;EACzB;EAEA,OAAe0D,YAAewB,UAAA,EAAeC,WAAA,EAAwB;IACpE,OAAOC,MAAA,CAAOF,UAAA,GAAaC,WAAW,KAAKC,MAAA,CAAOF,UAAA,KAAeC,WAAW,IAAI;EACjF;EAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAaA,OAAcE,eACb9D,OAAA,EACA+D,OAAA,EACmB;IACnB,MAAMzC,IAAA,GAAO,IAAI/D,WAAA,CAAiB;IAClC,WAAW,CAACI,GAAA,EAAKgB,KAAK,KAAKqB,OAAA,EAAS;MACnC,IAAIsB,IAAA,CAAKzD,GAAA,CAAIF,GAAG,GAAG;QAClB2D,IAAA,CAAKrD,GAAA,CAAIN,GAAA,EAAKoG,OAAA,CAAQzC,IAAA,CAAKxD,GAAA,CAAIH,GAAG,GAAIgB,KAAA,EAAOhB,GAAG,CAAC;MAClD,OAAO;QACN2D,IAAA,CAAKrD,GAAA,CAAIN,GAAA,EAAKgB,KAAK;MACpB;IACD;IAEA,OAAO2C,IAAA;EACR;AACD;;;AD9yBO,IAAMnE,OAAA,GAAU","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}